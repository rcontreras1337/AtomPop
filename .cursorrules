# AtomPop - Reglas de Cursor AI

## ğŸ“‹ InformaciÃ³n del Proyecto

- **Nombre:** AtomPop
- **DescripciÃ³n:** Calculadora educativa de quÃ­mica con estilo "Flint Loco" (Cloudy with a Chance of Meatballs)
- **Stack:** React 19 + TypeScript + Vite 7 + Tailwind CSS 4 + Framer Motion
- **Testing:** Vitest
- **Repositorio:** https://github.com/rcontreras1337/AtomPop

---

## ğŸ—ï¸ Estructura del Proyecto

```
src/
â”œâ”€â”€ components/ui/     # Componentes reutilizables (Button, ChemicalInput, etc.)
â”œâ”€â”€ data/              # Tabla periÃ³dica (74 elementos)
â”œâ”€â”€ features/          # LÃ³gica de cada calculadora (por HDU)
â”œâ”€â”€ hooks/             # Hooks personalizados (usePeriodicTable)
â”œâ”€â”€ layouts/           # MainLayout con navbar
â”œâ”€â”€ pages/             # PÃ¡ginas de cada calculadora
â”œâ”€â”€ utils/             # Motor quÃ­mico (formulaParser, chemistryEngine)
â””â”€â”€ router.tsx         # ConfiguraciÃ³n de rutas
```

---

## ğŸ“œ Flujo de Trabajo por HDU

### Al INICIAR una nueva HDU:

1. Crear rama: `git checkout -b feature/hdu-X`
2. Leer el archivo `HDUS/HDU-X.md` para ver los tickets
3. Implementar tickets en orden

### Al FINALIZAR una HDU:

**OBLIGATORIO actualizar estos archivos:**

#### 1. `CHANGELOG.md` - Agregar nueva entrada:
```markdown
## [0.X.0] - YYYY-MM-DD

### ğŸ‰ HDU-X: [Nombre de la HDU]

> **Tipo:** MINOR | **Rama:** `feature/hdu-X`

### âœ¨ Agregado
- [Lista de features agregadas]

### ğŸ“Š MÃ©tricas
| MÃ©trica | Valor |
|---------|-------|
| Tests nuevos | XX |
| Archivos creados | XX |
```

#### 2. `README.md` - Actualizar tabla de versiones:
```markdown
| VersiÃ³n | Fecha | HDU | DescripciÃ³n |
|---------|-------|-----|-------------|
| `0.X.0` | YYYY-MM-DD | HDU-X | [DescripciÃ³n breve] |
```

#### 3. `README.md` - Actualizar Roadmap:
```markdown
- [x] **HDU-X:** [Nombre] â† Marcar como completado
```

#### 4. `package.json` - Actualizar versiÃ³n:
```json
"version": "0.X.0"
```

#### 5. `HDUS/HDU-X.md` - Marcar como completado:
```markdown
> **Estado:** âœ… Completado
> **Fecha Completado:** YYYY-MM-DD
```

#### 6. Crear commit y tag:
```bash
git add -A
git commit -m "âœ… HDU-X: [Nombre de la HDU] - v0.X.0"
git tag -a v0.X.0 -m "HDU-X: [Nombre]"
git push origin feature/hdu-X --tags
```

---

## ğŸ·ï¸ Versionamiento SemÃ¡ntico

Seguir las reglas en `VERSIONING.md`:

| Cambio | VersiÃ³n | Ejemplo |
|--------|---------|---------|
| Bug fix, estilos | PATCH | 0.1.0 â†’ 0.1.1 |
| Nueva HDU/feature | MINOR | 0.1.0 â†’ 0.2.0 |
| Breaking change | MAJOR | 0.9.0 â†’ 1.0.0 |

---

## ğŸ§ª Tests Obligatorios

Cada HDU debe incluir tests. Antes de merge:

```bash
npm run test:run  # Todos deben pasar
```

Estructura de tests:
```
src/features/[feature-name]/
â”œâ”€â”€ use[Feature].ts
â”œâ”€â”€ use[Feature].test.ts  # â† Obligatorio
â”œâ”€â”€ [Component].tsx
â””â”€â”€ [Component].test.tsx  # â† Obligatorio
```

---

## ğŸ¨ Estilo de CÃ³digo

- **Componentes:** PascalCase (`MassBreakdown.tsx`)
- **Hooks:** camelCase con prefijo `use` (`useMolarMass.ts`)
- **Utils:** camelCase (`formulaParser.ts`)
- **Tests:** mismo nombre + `.test.ts`

---

## ğŸ“ Archivos Clave

| Archivo | PropÃ³sito |
|---------|-----------|
| `PRD.md` | Especificaciones del producto |
| `HDUS/INDEX.md` | Ãndice de todas las HDUs |
| `HDUS/HDU-X.md` | Tickets detallados de cada HDU |
| `CHANGELOG.md` | Historial de versiones |
| `VERSIONING.md` | Reglas de versionamiento |
| `README.md` | DocumentaciÃ³n principal |

---

## ğŸ”„ Estado Actual del Proyecto

### Completado:
- âœ… HDU-0: Infraestructura y Motor QuÃ­mico (v0.1.0)
  - React Router configurado
  - 74 elementos en tabla periÃ³dica
  - Parser de fÃ³rmulas (Ca(OH)2, Al2(SO4)3)
  - Motor de cÃ¡lculos quÃ­mico
  - 4 componentes UI base
  - 83 tests unitarios

- âœ… HDU-1: Calculadora de Masa Molar (v0.2.0)
  - Hook useMolarMass con historial
  - Componente MassBreakdown con animaciones
  - ValidaciÃ³n en tiempo real (debounce)
  - Copiar resultado, ejemplos clickeables
  - 28 tests nuevos (111 totales)

### Pendiente:
- â³ HDU-2: Conversor Moles/Gramos/Ãtomos (v0.3.0)
- â³ HDU-3: ComposiciÃ³n Porcentual (v0.4.0)
- â³ HDU-4: FÃ³rmula EmpÃ­rica y Molecular (v0.5.0)

### Rama actual: `feature/hdu-1` (pendiente merge a main)

---

## ğŸš€ Comandos Ãštiles

```bash
npm run dev          # Servidor desarrollo
npm run test:run     # Ejecutar tests
npm run build        # Build producciÃ³n
npm run lint         # Verificar cÃ³digo
```

---

## âš ï¸ Recordatorios Importantes

1. **Siempre crear rama** antes de empezar una HDU
2. **Tests son obligatorios** en cada HDU
3. **Actualizar CHANGELOG** al finalizar cada HDU
4. **Actualizar README** con nueva versiÃ³n
5. **Crear tag de versiÃ³n** antes de merge
6. **Responder en espaÃ±ol** al usuario

