#!/bin/sh

echo "ğŸ” Verificando antes del push..."

# 1. Lint
echo "ğŸ“ Ejecutando lint..."
npm run lint
if [ $? -ne 0 ]; then
  echo "âŒ Error: Lint fallÃ³. Corrige los errores antes de hacer push."
  exit 1
fi

# 2. Tests unitarios
echo "ğŸ§ª Ejecutando tests unitarios..."
npm run test:run
if [ $? -ne 0 ]; then
  echo "âŒ Error: Tests fallaron. Corrige los tests antes de hacer push."
  exit 1
fi

# 3. Build
echo "ğŸ—ï¸ Verificando build..."
npm run build
if [ $? -ne 0 ]; then
  echo "âŒ Error: Build fallÃ³. Corrige los errores antes de hacer push."
  exit 1
fi

echo "âœ… Todas las verificaciones pasaron. Continuando con push..."

